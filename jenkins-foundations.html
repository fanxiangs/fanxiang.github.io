<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📖&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>Jenkins: The Foundations&nbsp;|&nbsp;CookBook</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="Jenkins: The Foundations">
  
    <meta name="description" content="介绍 Jenkins 基础概念与功能">
    <meta property="og:description" content="介绍 Jenkins 基础概念与功能">
  
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📖&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="jenkinsbook.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="https://www.jenkins.io/images/logos/jenkins/jenkins.png"></span>&nbsp;
          
          <span>Jenkins Book</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
    <h1 class="Header__Title">Jenkins: The Foundations</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Tue, Jun 6, 2023</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--purple">
            <a href="tag/Jenkins.html">Jenkins</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--default">
            <a href="tag/CI.html">CI</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/847b4ae843cb49f3ad4264657ae818fd" class="PageRoot"><div id="https://www.notion.so/836bb885deaf47e883a11ff2307f63ea" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGray">Last Updated: </mark></span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGray"><span class="SemanticString__Fragment SemanticString__Fragment--Date">@2023/06/06</span></mark></span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGray"> </mark></span></span></p></div><ul id="https://www.notion.so/9ad60ff1ec634c65b610fbaf269c9354" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/c5fa56ed1ccf4fddbdc216b2eae90211"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Syntax: Scripted Pipelines Versus Declarative Pipelines</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a5e7f47a8318449ebb2e511da1d18b8a"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Choosing Between Scripted and Declarative Syntax</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1bca385e85da42dc8a67420b9effcd6e"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Systems: Masters, Nodes, Agents, and Executors</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4da4733831bc4c5d8dfcd084bc21fd92"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Master</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/14239544a60149baa2e21354bf632b11"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Node</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/fd6c14d50ac94c3fb2287eab37571e5a"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Agent</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/fcc9bbbd9df149eb83b969a2f0b5c0b7"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Executor</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/b04509bd711d4547ac3d151f0caf3d13"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Creating Nodes</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/0ba6ccc0b14a424faee5d5c05d4171ce"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Structure: Working with the Jenkins DSL</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/337cca18fbce43df8ad7782c645eafad"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Support: Developing a Pipeline Script</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/dc9186bc0864418f8b13f26e543528bb"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Starting a Pipeline Project</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/be0d84f4d79547188d2621742a6024ab"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">The Editor</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/50eeaf450a85421e9fd0851218a0a664"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">Syntax checking</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e4f2c82f24224b3d841dbd3a323cd1eb"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Working with the Snippet Generator</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/06f86b5e9c8c4e91a8851fa24f7b0023"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Running a Pipeline</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/bfa66f3f03304f3fb319b1bedd702381"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">Build</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2b733d6add94407d946ba8e89ba66922"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">Viewing logs</span></span></div></a></li></ul><div id="https://www.notion.so/ad980b291b2d448ab9f3fe1b2d74186a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">现在我们对 Jenkins 有了一个基本的了解，下面来了解 Jenkins 如何支持 pipeline-as-code。在我们创建 pipeline 时，最重要的第一步是了解我们的 pipeline 运行在什么环境。这包含了如何创建，执行以及监控 pipeline。我们以下四个方面进行阐述：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/8ee09e198f4c4c04bb7610f467f18f83" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">pipeline 语法的两种风格</span></span></li><li id="https://www.notion.so/b815a2a942b541019649ea63e1b6ddcf" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">pipeline 运行的环境</span></span></li><li id="https://www.notion.so/f3b01cb0d002423d9c00ad56c0cae332" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">pipeline 基本结构</span></span></li><li id="https://www.notion.so/a91104c7806a4d04881f2945b0502f05" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Jenkins 为创建执行 pipeline 提供的工具</span></span></li></ul><div id="https://www.notion.so/a6486be5220a4a488b3ffdc313d20542" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">我们从介绍 Jenkins 的一些重点概念开始，首先对两种风格的语法进行比较，然后了解什么是 DSL。接下来以创建 pipeline 为例，介绍了 Jenkins 提供的一些工具。从在写 pipeline code 时，Jenkins 帮助我们进行语法检查以及通过界面方式生成代码，在运行结束时，如何更好的查看日志，以及在不改变源代码的情况下，允许我们调试 Pipeline。</span></span></p></div><h1 id="https://www.notion.so/c5fa56ed1ccf4fddbdc216b2eae90211" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/c5fa56ed1ccf4fddbdc216b2eae90211"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Syntax: Scripted Pipelines Versus Declarative Pipelines</strong></strong></span></span></h1><div id="https://www.notion.so/fb18c862e8b942ef93ab970970c9b8b2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Scripted Pipeline 是实现 pipeline-as-code 最早的方式，更像是用 Groovy, Shell 等编写的脚本来实现程序流程和逻辑控制。</span></span></p></div><div id="https://www.notion.so/abc295c806994657a092eeebf45c5262" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Declarative Pipeline 是新的一种方案，它提供了一种结构化的方式来定义流水线。</span></span></p></div><div id="https://www.notion.so/5ef969c8a5084e0588a08f3c62ff2316" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">下面可以看下两种语法的区别：</span></span></p></div><pre id="https://www.notion.so/db018354d96a4c2081bb7a3c3aa3679d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>// Scripted Pipeline
node(&#x27;worker_node1&#x27;) {
    stage(&#x27;Source&#x27;) { // Get code
        // get code from our Git repository
        git &#x27;git@diyvb2:/home/git/repositories/workshop.git&#x27;
    }
    stage(&#x27;Compile&#x27;) { // Compile and do unit testing
       // run Gradle to execute compile and unit testing
       sh &quot;gradle clean compileJava test&quot;
    }
}

// Declarative Pipeline
pipeline {
    agent {label &#x27;worker_node1&#x27;}
    stages {
        stage(&#x27;Source&#x27;) { // Get code
            steps {
                // get code from our Git repository
                git &#x27;git@diyvb2:/home/git/repositories/workshop.git&#x27;
            }
        }
        stage(&#x27;Compile&#x27;) { // Compile and do unit testing
            steps {
                // run Gradle to execute compile and unit testing
                sh &quot;gradle clean compileJava test&quot;
            }
        }
    }
}</span></span></span></code></pre><h2 id="https://www.notion.so/a5e7f47a8318449ebb2e511da1d18b8a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a5e7f47a8318449ebb2e511da1d18b8a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Choosing Between Scripted and Declarative Syntax</strong></strong></span></span></h2><div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div><div id="https://www.notion.so/a570add745094e2a908b82b3c6977853" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">综上比较，新人使用 Declarative 会更易上手和维护。Scripted 提供了更大的灵活性。 它提供了“超级用户”选项，允许用户以更少的强加结构做更多的事情。但是，无论选择使用那种风格去创建 pipeline，最好选择一种。本文全力拥抱 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Declarative Pipeline。</strong></strong></span></span></p></div><h1 id="https://www.notion.so/1bca385e85da42dc8a67420b9effcd6e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/1bca385e85da42dc8a67420b9effcd6e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Systems: Masters, Nodes, Agents, and Executors</strong></strong></span></span></h1><div id="https://www.notion.so/77e67921f0fa411ebb8682843e13b892" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">无论使用哪种方式创建 pipeline，总要有一个地方去执行我们的代码。众所周知，Jenkins 分为 master 和 slave，</span></span></p></div><h2 id="https://www.notion.so/4da4733831bc4c5d8dfcd084bc21fd92" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4da4733831bc4c5d8dfcd084bc21fd92"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Master</span></span></h2><div id="https://www.notion.so/133ba58ff4964988b20de920ed72fcc0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Master 是 Jenkins 的大脑，用于任务分发，配置管理，插件权限控制管理等。同时也可在 master 上运行任务，但并不推荐。原因如下：</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/5bb0b55bd037483390076c1f8832348a" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">安全问题，在 master 运行的任务可以访问所有的配置数据信息</span></span></li><li id="https://www.notion.so/9de76fe682d34011bd977f8c16e57736" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">运行负载过高的任务会导致 Jenkins 变慢</span></span></li></ol><h2 id="https://www.notion.so/14239544a60149baa2e21354bf632b11" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/14239544a60149baa2e21354bf632b11"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Node</strong></strong></span></span></h2><div id="https://www.notion.so/be907a76849d45ac87b4a125271fe5cd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Node 是指 Jenkins jobs 可与运行的系统，也包括了 master 和 agent。这个系统可以是 VM，Docker container 等。</span></span></p></div><h2 id="https://www.notion.so/fd6c14d50ac94c3fb2287eab37571e5a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/fd6c14d50ac94c3fb2287eab37571e5a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Agent</strong></strong></span></span></h2><div id="https://www.notion.so/56bc2e8eeaca49988f4068cf715ab1b1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Agent 在早版本的时候也称为 Slave，和 Node 通常是相同的概念，但区别是 Agent 一般指除了 Master 之外的系统。</span></span></p></div><h2 id="https://www.notion.so/fcc9bbbd9df149eb83b969a2f0b5c0b7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/fcc9bbbd9df149eb83b969a2f0b5c0b7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Executor</strong></strong></span></span></h2><div id="https://www.notion.so/3a0b0b38f45748ec8ecc1281e9060a02" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Executor 是指 Node/Agent 上运行 Job 的实例。一个 Node 可以有0个到多个执行者。</span></span></p></div><div id="https://www.notion.so/8eb75ec7c1164cbda667f53d69e082f2" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb75682ab-8acf-4f21-96b9-13b3441c4508%2Fj2ur_0201.png?width=805&amp;table=block&amp;id=8eb75ec7-c116-4cbd-a667-f53d69e082f2"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb75682ab-8acf-4f21-96b9-13b3441c4508%2Fj2ur_0201.png?width=805&amp;table=block&amp;id=8eb75ec7-c116-4cbd-a667-f53d69e082f2" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/b04509bd711d4547ac3d151f0caf3d13" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/b04509bd711d4547ac3d151f0caf3d13"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Creating Nodes</span></span></h2><div id="https://www.notion.so/636862209bfe488abbf6f04a5b3d5e5c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在了解上述概念之后，我们来创建一个 node。</span></span></p></div><div id="https://www.notion.so/bf3aabfeb3074fde86d8b299d01930dd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">登录 Jenkins 后，点击 Manage Jenkins，选择 Manage Nodes and Clouds。</span></span></p></div><div id="https://www.notion.so/3d3284a0ad5e42648c96b373e3165a32" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F72ab76ef-39ae-4963-b8e2-e1f9393b2171%2FUntitled.png?width=402&amp;table=block&amp;id=3d3284a0-ad5e-4264-8c96-b373e3165a32"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F72ab76ef-39ae-4963-b8e2-e1f9393b2171%2FUntitled.png?width=402&amp;table=block&amp;id=3d3284a0-ad5e-4264-8c96-b373e3165a32" style="width:402px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/4df8abe66ecb43708c1b0cd77d22e010" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">选择 New Node 并填入相应数据。</span></span></p></div><div id="https://www.notion.so/3fdbb7dfb8004860b439685fa71475d2" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F46968c9c-54dc-4d4c-ad4f-14f37735f6f4%2Fj2ur_0203.png?width=730&amp;table=block&amp;id=3fdbb7df-b800-4860-b439-685fa71475d2"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F46968c9c-54dc-4d4c-ad4f-14f37735f6f4%2Fj2ur_0203.png?width=730&amp;table=block&amp;id=3fdbb7df-b800-4860-b439-685fa71475d2" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/3eb74a9ba7f04c06bb4a519917d57c78" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F09c71984-0d65-4d02-b37a-b051118a6717%2Fj2ur_0204.png?width=721&amp;table=block&amp;id=3eb74a9b-a7f0-4c06-bb4a-519917d57c78"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F09c71984-0d65-4d02-b37a-b051118a6717%2Fj2ur_0204.png?width=721&amp;table=block&amp;id=3eb74a9b-a7f0-4c06-bb4a-519917d57c78" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/04fd3ab844094f1eafa88340b4c75baf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Launch method 选择 Launch agents via SSH，在这里需要确保网络、远程端口、IP 以及证书的准确性。</span></span></p></div><h1 id="https://www.notion.so/0ba6ccc0b14a424faee5d5c05d4171ce" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/0ba6ccc0b14a424faee5d5c05d4171ce"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Structure: Working with the Jenkins DSL</strong></strong></span></span></h1><div id="https://www.notion.so/d7902911563942b48423b44a0a5f8a42" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">DSL（Domain-Specific Language）是一种用于根据上下文定义和配置的特定领域语言。Jenkins DSL 是以 Groovy 为基础，提供了 pipeline as  code 的方法去创建和管理流水线，使得流水线的创建和维护更加灵活和可重复。</span></span></p></div><div id="https://www.notion.so/370020c06373491195ff2cf9d3fe7d59" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在本节会以 Declarative Pipeline 为例，简单介绍 Jenkins DSL 相关概念和结构。在后面章节会对 Declarative Pipeline 进行更详细的说明。</span></span></p></div><pre id="https://www.notion.so/9c594d1ce7a94bfabb03ed29ebb5f3ac" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>pipeline {
    agent any

    stages {
        stage(&#x27;Hello&#x27;) {
            steps {
                echo &#x27;Hello World&#x27;
            }
        }
    }
}</span></span></span></code></pre><div id="https://www.notion.so/97bfc244781b4209b51177805cac61e2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">上述代码是一个简单的 Declarative Pipeline 脚本，用于在Jenkins中定义和执行一个流水线。</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/6fa71ede99f74cc9bce5e9384ebf3c8f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">pipeline</strong></code></span><span class="SemanticString">是 Declarative Pipeline 的顶层指令，表示开始定义一个流水线。</span></span></li><li id="https://www.notion.so/18f34ddcbde14197b9f7d3185f979a08" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">agent any</strong></code></span><span class="SemanticString">指定了流水线的运行环境，这里的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">any</strong></code></span><span class="SemanticString">表示可以在任何可用的节点上执行流水线。</span></span></li><li id="https://www.notion.so/8341fb3eea1e4a13a9bac173f9c8f331" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">stages</strong></code></span><span class="SemanticString">定义了流水线中的阶段，每个阶段包含一个或多个步骤。</span></span></li><li id="https://www.notion.so/8646725bdc5a43da91e84b9abb7fc3f2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">stage(&#x27;Hello&#x27;)</strong></code></span><span class="SemanticString">定义了一个名为&#x27;Hello&#x27;的阶段，用于执行一个任务。</span></span></li><li id="https://www.notion.so/d23fcb676bc843f589373f34259a7279" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">steps</strong></code></span><span class="SemanticString">定义了在该阶段中执行的步骤。</span></span></li><li id="https://www.notion.so/fbf2649b4f534779a3f1be20d5105f75" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">echo &#x27;Hello World&#x27;</strong></code></span><span class="SemanticString">是一个步骤，用于在控制台输出字符串&#x27;Hello World&#x27;。</span></span></li></ul><div id="https://www.notion.so/66dfc4d879cd4a039988a52769a84e5f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Declarative Pipeline强调流水线的结构和阶段，以及各个阶段中的步骤和条件。具有以下特点：</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/c18160b8616f4d2d9aa3d5a8a5fb74f5" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">结构化语法：Declarative Pipeline使用结构化语法来定义流水线的不同部分。包括pipeline块作为最外层的容器，并可以包含多个stage块。每个stage块代表流水线的一个阶段，可以包含一个或多个步骤。</span></span></li><li id="https://www.notion.so/8a5dda4df4f84e1ca7e811d84da6b06d" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">高可读性：Declarative Pipeline的语法设计旨在提高可读性，使得流水线的意图更加清晰。使用关键字和指令来描述各个阶段和步骤，并提供了清晰的结构和缩进来区分不同的部分。</span></span></li><li id="https://www.notion.so/09bf41e239bf4a218dcd8191bb9126f3" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">集成性：Declarative Pipeline天生集成了 Jenkins 生态系统中的许多功能和插件。支持各种步骤和指令，如构建、测试、部署、通知等，可以轻松地与其他Jenkins插件和工具进行集成。</span></span></li><li id="https://www.notion.so/ceabf283f8aa42ee8ee32a1a7f20846a" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">可扩展性：Declarative Pipeline 支持自定义的步骤和条件，可以通过编写自定义的 Groovy 函数或引用外部的共享库来扩展流水线的功能。</span></span></li></ol><h1 id="https://www.notion.so/337cca18fbce43df8ad7782c645eafad" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/337cca18fbce43df8ad7782c645eafad"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Support: Developing a Pipeline Script</strong></strong></span></span></h1><div id="https://www.notion.so/2b06ed17262d47ad91f94dbee0c9451a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Jenkins 支持创建不同类型的 Job 以满足项目的需求。下面我们以创建类型为 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Pieline</code></span><span class="SemanticString"> 的 Job 为例，让我们更好的去了解如何创建、编辑、运行和监控 pipeline。</span></span></p></div><h2 id="https://www.notion.so/dc9186bc0864418f8b13f26e543528bb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/dc9186bc0864418f8b13f26e543528bb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Starting a Pipeline Project</span></span></h2><div id="https://www.notion.so/687f71be96904e268b3d72a248437eec" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">点击 New Item，会看到以下种类的 Job，我们选择 Pipeline 并输入名字，就完成了初始化。</span></span></p></div><div id="https://www.notion.so/7cb9651ff03346d48c29e1ba8032d4e1" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe9fe52dd-721b-4445-b6a2-06ab67c0bc17%2FUntitled.png?width=419&amp;table=block&amp;id=7cb9651f-f033-46d4-8c29-e1ba8032d4e1"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe9fe52dd-721b-4445-b6a2-06ab67c0bc17%2FUntitled.png?width=419&amp;table=block&amp;id=7cb9651f-f033-46d4-8c29-e1ba8032d4e1" style="width:419px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/841d6df33e3d408fb628c8b0aad137c5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这时会跳转到一个表单页面，我们可以根据需求来进行配置。我们移动到 Pipeline 节点，选择 Hello World 模板，在文本编辑器内就会出现以下内容。</span></span></p></div><div id="https://www.notion.so/ca918fbfa935432f8011073c311c5fcb" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9385e947-9194-406c-be3f-9895514cb8aa%2FUntitled.png?width=1323&amp;table=block&amp;id=ca918fbf-a935-432f-8011-073c311c5fcb"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9385e947-9194-406c-be3f-9895514cb8aa%2FUntitled.png?width=1323&amp;table=block&amp;id=ca918fbf-a935-432f-8011-073c311c5fcb" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/be0d84f4d79547188d2621742a6024ab" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/be0d84f4d79547188d2621742a6024ab"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">The Editor</span></span></h2><div id="https://www.notion.so/4c08f371e9cc4903b311aedabaeabc89" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Jenkins 内置编辑器有以下功能：语法检查、错误提示、自动补全等。</span></span></p></div><h3 id="https://www.notion.so/50eeaf450a85421e9fd0851218a0a664" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/50eeaf450a85421e9fd0851218a0a664"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Syntax checking</span></span></h3><div id="https://www.notion.so/bf80d9360be84fff9761033816eba6bd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">编辑器会实时验证用户输入的流水线脚本，检查语法错误和配置问题，鼠标停留在❌会给出相应的错误提示和建议。如下所示：</span></span></p></div><div id="https://www.notion.so/091c76948a774bf88b8a9ba031bfc25b" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F49f38b94-2a1e-42e1-a6b4-7bf508c5705e%2FUntitled.png?width=712&amp;table=block&amp;id=091c7694-8a77-4bf8-8b8a-9ba031bfc25b"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F49f38b94-2a1e-42e1-a6b4-7bf508c5705e%2FUntitled.png?width=712&amp;table=block&amp;id=091c7694-8a77-4bf8-8b8a-9ba031bfc25b" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/e4f2c82f24224b3d841dbd3a323cd1eb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e4f2c82f24224b3d841dbd3a323cd1eb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Working with the Snippet Generator</span></span></h2><div id="https://www.notion.so/7ea1902e9f3b411caa0b7cb5cf16421b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用 DSL 创建 pipeline 有很多优点，但是如何知道每个指令对应的语法，成为一个棘手的问题。</span></span></p></div><div id="https://www.notion.so/5cdcefba1ed148eba3559ecf205ad78d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Jenkins 提供了 Snippet Generator 工具，用于帮助用户生成特定流水线步骤和指令的代码片段。它提供了一个图形界面，您可以在其中选择所需的步骤或指令，并配置其参数。配置完成后，Snippet Generator 会生成相应的代码片段，可以在 Jenkins 流水线脚本中使用。</span></span></p></div><div id="https://www.notion.so/f6227b679a214675b3dd3a855bde3de4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">下面我们通过一个简单的例子，了解如何使用 Snippet Generator。假设我们想使用 Git Clone 代码，</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/2b60e0f42ed14716aa71d72f5c2bb453" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">打开 Snippet Generator：在 Jenkins 界面中，导航到 Pipeline，并点击&quot;Pipeline Syntax&quot;链接。这将带您进入 Snippet Generator。</span></span></li></ol><div id="https://www.notion.so/4680d0d5e77846088b234375be34cbad" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/884d72f9ad3946b9aac80de84b73b073" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8962c1a8-091a-41c8-b713-35c8ee93f5b6%2FUntitled.png?width=563&amp;table=block&amp;id=884d72f9-ad39-46b9-aac8-0de84b73b073"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8962c1a8-091a-41c8-b713-35c8ee93f5b6%2FUntitled.png?width=563&amp;table=block&amp;id=884d72f9-ad39-46b9-aac8-0de84b73b073" style="width:563px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/1ba89152dc9d4a799f65de7437f4f509" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">选择步骤或指令：在 Snippet Generator 页面的&quot;Sample Step&quot;下拉菜单中，选择&quot;git: Git&quot;。这将加载 git 步骤的相关参数。</span></span><div id="https://www.notion.so/00e963925ec345edb41f3a03764cb7ef" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffb9f4633-3928-4379-8710-155634852bc8%2FUntitled.png?width=1899&amp;table=block&amp;id=00e96392-5ec3-45ed-b41f-3a03764cb7ef"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffb9f4633-3928-4379-8710-155634852bc8%2FUntitled.png?width=1899&amp;table=block&amp;id=00e96392-5ec3-45ed-b41f-3a03764cb7ef" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></li><li id="https://www.notion.so/4972602f56824f8fbab245c07cb8ac48" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">配置参数：在 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Repository URL</code></span><span class="SemanticString"> 参数中，输入要克隆的 Git 存储库的 URL。以及在 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Branch</code></span><span class="SemanticString"> 和 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Credentials</code></span><span class="SemanticString"> 输入对应的字段。</span></span><div id="https://www.notion.so/1ed9065ebae745d19035489f92e5b1db" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc3141270-527b-4e65-be4c-d7fa8941df11%2FUntitled.png?width=1915&amp;table=block&amp;id=1ed9065e-bae7-45d1-9035-489f92e5b1db"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc3141270-527b-4e65-be4c-d7fa8941df11%2FUntitled.png?width=1915&amp;table=block&amp;id=1ed9065e-bae7-45d1-9035-489f92e5b1db" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/34c439e43fc44aa1b1768ab7314f522e" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffa21b5ac-579b-4c0d-a13a-ee46ee7da481%2FUntitled.png?width=1916&amp;table=block&amp;id=34c439e4-3fc4-4aa1-b176-8ab7314f522e"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffa21b5ac-579b-4c0d-a13a-ee46ee7da481%2FUntitled.png?width=1916&amp;table=block&amp;id=34c439e4-3fc4-4aa1-b176-8ab7314f522e" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></li><li id="https://www.notion.so/34a862377a784d28a98b030f9a53e5d5" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">生成代码片段：点击 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Generate Pipeline Script</code></span><span class="SemanticString"> 按钮。Snippet Generator 将根据您的配置生成 git clone 步骤的代码片段</span></span></li><li id="https://www.notion.so/49242feb4b30486397d2cd87b13dd668" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">在流水线中使用代码片段：将生成的代码复制并粘贴到 pipeline 的适当位置。确保将其放在正确的 stage 中。</span></span><pre id="https://www.notion.so/233fbd004a974696be8adde7dedd6a6d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>  stage(&#x27;Source&#x27;) {
      steps {
          git credentialsId: &#x27;jenkins-demo&#x27;, url: &#x27;https://github.com/brentlaster/gradle-greetings.git&#x27;
      }
  }</span></span></span></code></pre></li></ol><div id="https://www.notion.so/57866ad7af9d448abf4260b9439e88dd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">通过上述步骤，我们完成了 git clone 的步骤。这样我们无需手动写代码，而是通过可视化工具生成代码片段并集成到流水线中。</span></span></p></div><h2 id="https://www.notion.so/06f86b5e9c8c4e91a8851fa24f7b0023" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/06f86b5e9c8c4e91a8851fa24f7b0023"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Running a Pipeline</span></span></h2><div id="https://www.notion.so/43b3479b922c465d96d57087cc89385b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">完成 pipeline script 开发后，我们可以准备运行 pipeline。 pipeline 由多个 stages 构成，如编译、测试、分析、部署等。现在我们接上述的步骤，以一个简单的 Pipeline 为例。</span></span></p></div><pre id="https://www.notion.so/9972136c07484b8fad7d9718ded7324f" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>pipeline {
    agent any

    stages {
        stage(&#x27;Source&#x27;) {
            steps {
                git credentialsId: &#x27;jenkins-demo&#x27;, url: &#x27;https://github.com/brentlaster/gradle-greetings.git&#x27;
            }
        }
        stage(&#x27;Build&#x27;) {
            // TO-DO: Execute the gradle build associated with this project
            steps {
                sh &#x27;echo gradle build will go here&#x27;
            }
        }
    }
}</span></span></span></code></pre><h3 id="https://www.notion.so/bfa66f3f03304f3fb319b1bedd702381" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/bfa66f3f03304f3fb319b1bedd702381"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Build</span></span></h3><div id="https://www.notion.so/53554b55af87440e82651c1bde0d268e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">把上述脚本复制到 pipeline 的编辑器中并保存，点击 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Build Now</code></span><span class="SemanticString"> ，Pipeline 则会执行。下面是运行成功的结果。每一行代表执行的实例，每一列对应着 pipeline 中的 stage。</span></span></p></div><div id="https://www.notion.so/7763c582af4a49d7bb0339b1e10a8933" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"> </span></span></p></div><div id="https://www.notion.so/ff2017c5e603429091d5fe13ec8523e8" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbc8e06f0-88ae-4e0b-921d-d9264a5fd36c%2FUntitled.png?width=1909&amp;table=block&amp;id=ff2017c5-e603-4290-91d5-fe13ec8523e8"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbc8e06f0-88ae-4e0b-921d-d9264a5fd36c%2FUntitled.png?width=1909&amp;table=block&amp;id=ff2017c5-e603-4290-91d5-fe13ec8523e8" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/2b733d6add94407d946ba8e89ba66922" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/2b733d6add94407d946ba8e89ba66922"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Viewing logs</span></span></h3><div id="https://www.notion.so/7755ce31ed9643c59b85cd368d7b6b16" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在 Jenkins 中查看日志可以了解构建过程中发生的事情、排查问题以及监控流水线的执行。以下是在 Jenkins 中查看日志的几种常用方法：</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/d5eefc3d9aa549e0a6b1025da46e3dde" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">Console Output：点击进入到 job，在侧边栏单击 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Console Output</code></span><span class="SemanticString"> 就可以看到所有的日志。</span></span><div id="https://www.notion.so/6b4da45f6cfa479cbf28b2782a051d48" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F414aa9f7-297d-45c5-aa18-86f9e2f8a340%2FUntitled.png?width=312&amp;table=block&amp;id=6b4da45f-6cfa-479c-bf28-b2782a051d48"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F414aa9f7-297d-45c5-aa18-86f9e2f8a340%2FUntitled.png?width=312&amp;table=block&amp;id=6b4da45f-6cfa-479c-bf28-b2782a051d48" style="width:312px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></li><li id="https://www.notion.so/5544b98006624aa2aa9d3943e34c8f3e" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">Stage view 快捷查看日志：鼠标停留在相应的 stage 上，就会显示 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Logs</code></span><span class="SemanticString"> 。点击就会显示相关 stage 的日志。</span></span><div id="https://www.notion.so/fdc3c7b8e1ce488881aab1e473d9e94b" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4719b8e1-ed4a-4ec1-b25a-d63a8c011742%2FUntitled.png?width=664&amp;table=block&amp;id=fdc3c7b8-e1ce-4888-81aa-b1e473d9e94b"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4719b8e1-ed4a-4ec1-b25a-d63a8c011742%2FUntitled.png?width=664&amp;table=block&amp;id=fdc3c7b8-e1ce-4888-81aa-b1e473d9e94b" style="width:664px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/7c02780f90a140c48db8e8aa79c34131" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F377c149e-d964-4cf2-a934-8144ae75f5c8%2FUntitled.png?width=1489&amp;table=block&amp;id=7c02780f-90a1-40c4-8db8-e8aa79c34131"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F377c149e-d964-4cf2-a934-8144ae75f5c8%2FUntitled.png?width=1489&amp;table=block&amp;id=7c02780f-90a1-40c4-8db8-e8aa79c34131" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/8d6276ea30a84374a60de662eb220290" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Open Bule Ocean</code></span><span class="SemanticString"> ：点击进入到 job，在侧边栏单击 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Open Bule Ocean</code></span><span class="SemanticString"> ，如下图所示：</span></span><div id="https://www.notion.so/e4addc758d144996a2851addaa2d71c2" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbf12ed4f-01ed-433d-83b4-07444a29a0c2%2FUntitled.png?width=1898&amp;table=block&amp;id=e4addc75-8d14-4996-a285-1addaa2d71c2"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbf12ed4f-01ed-433d-83b4-07444a29a0c2%2FUntitled.png?width=1898&amp;table=block&amp;id=e4addc75-8d14-4996-a285-1addaa2d71c2" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></li></ol><h3 id="https://www.notion.so/735cf90d0d264439960f58e0fe1c77da" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/735cf90d0d264439960f58e0fe1c77da"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Replay</span></span></h3><div id="https://www.notion.so/3e085c99c1764e5196702c29ba715de0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Jenkins Replay 可以重新运行先前执行过的构建。通过 Replay 功能，可以在不改变源代码的情况下修改 pipeline，进行测试。 </span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/80d259bd87ad418fb2fb5b871571145b" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">侧边栏点击 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Replay</code></span><span class="SemanticString"> </span></span></li></ol><div id="https://www.notion.so/5cb19f5f824642a881b9db6c180e3bca" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F50de4097-55b6-4cad-b7e2-d1bfac28b682%2FUntitled.png?width=1884&amp;table=block&amp;id=5cb19f5f-8246-42a8-81b9-db6c180e3bca"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F50de4097-55b6-4cad-b7e2-d1bfac28b682%2FUntitled.png?width=1884&amp;table=block&amp;id=5cb19f5f-8246-42a8-81b9-db6c180e3bca" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/222f018b69fb428e808b939283d3174b" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">修改脚本：更改 build 步骤</span></span><pre id="https://www.notion.so/241cd1be5feb4f98b5176ac0e2860010" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>steps {
	// sh &#x27;echo gradle build will go here&#x27;
  sh &#x27;echo replay build&#x27;
}</span></span></span></code></pre></li><li id="https://www.notion.so/c411cf6496564e6dbba76597a54adb4c" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">Run and check：点击 Run 则会执行#2，查看日志输出，正是我们修改的内容。但是查看配置信息，Script 还是修改前的内容。</span></span><div id="https://www.notion.so/86df4a2aaf37463ba6f04200cc12366f" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff6b76a6d-1655-4565-8b06-76c76f31b390%2FUntitled.png?width=921&amp;table=block&amp;id=86df4a2a-af37-463b-a6f0-4200cc12366f"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff6b76a6d-1655-4565-8b06-76c76f31b390%2FUntitled.png?width=921&amp;table=block&amp;id=86df4a2a-af37-463b-a6f0-4200cc12366f" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/232a1f35d073465c905e403b96f9d7e3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/232a1f35d073465c905e403b96f9d7e3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Summary</span></span></h1><div id="https://www.notion.so/d5727677b78a4c6394d606ffa5314306" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">本章介绍了 Jenkins 基础功能的使用以及相关的概念。从不同的维度，对比了两种语法的优缺点。之后明确了 Jenkins 环境系统相关的定义，让我们知道 pipeline 是在哪运行。然后，简单介绍 Jenkins DSL 的结构，并介绍了 Jenkins 为方便开发 Pipeline 提供的一些工具。</span></span></p></div><div id="https://www.notion.so/2d1d74e932844890945aa8f3462c7f6d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这些信息为在工作中使用和探索其余内容提供坚实的基础。在接下来的章节，我们会在此基础上进行更深入的探讨。</span></span></p></div><div id="https://www.notion.so/84eee94cd83447119fe9b137b0e02fd1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></li></ol></li></ol></article>
  <script src="https://utteranc.es/client.js"
        repo="fanxiangs/fanxiangs.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
  </script>
  <footer class="Footer">
  <div>&copy; CookBook 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>